{"version":3,"file":"index.esm.js","sources":["../node_modules/typescript-44ms/build/index.esm.js","../node_modules/typescript-44ms-reactionary-template-method/build/index.esm.js","../src/ootb-service-controller.ts"],"sourcesContent":["const e=Symbol.for(\"react-44ms/api/UseServiceSymbol\"),l=()=>window[e],r=Symbol.for(\"react-44ms/api/YieldablePortSymbol\"),a=e=>e?._yieldablePort===r,i=Symbol.for(\"react-44ms/api/RefSymbol\"),t=e=>!!e&&e._refSymbol===i,o={element:{name:e=>e},RefPrimitive:{on:e=>({[i]:`${e}`,_refSymbol:i})}},n=Symbol.for(\"react-44ms/api/YieldableHandlerSymbol\"),s=e=>e?._yieldableHandler===n,d=Symbol.for(\"react-44ms/api/YieldedValueSymbol\"),c=Symbol.for(\"react-44ms/api/YieldedValueNotFoundSymbol\"),u=e=>!!e&&e._yieldedValueSymbol===d,y=e=>u(e)?e[d]:c,m=e=>{const{useSubmit:r}=l();return r().submit(e)};m.NO_SUBMIT_FOUND_INVALID_FORM_REASON_KEY=Symbol.for(\"React44ms/FORM_SUBMIT_INVALID_NO_SUBMIT_KEY\");const b=Symbol.for(\"react-44ms/api/TypedRefSymbol\"),f=Symbol.for(\"react-44ms/api/TypedRefValueSymbol\");var S=Object.freeze({__proto__:null,Convenience:o,RefSymbol:i,TypedRefSymbol:b,TypedRefValueSymbol:f,Yield:e=>{const{useReactingPower:r}=l();return r().service.Reactionary.Yield(e)},YieldAValueAtTheEnd:e=>({[d]:e,_yieldedValueSymbol:d}),YieldableHandler:e=>({[n]:e,_yieldableHandler:n}),YieldableHandlerSymbol:n,YieldablePort:e=>({[r]:e,_yieldablePort:r}),YieldablePortSymbol:r,YieldedValueNotFoundSymbol:c,YieldedValueSymbol:d,anyRefishToStringValue:e=>t(e)?e[i]:e||\"\",anyYieldableHandlerToValue:e=>s(e)?e[n]:\"\",extractYieldedValue:y,extractYieldingRef:e=>{let l,r,i=[],o=c;if(Array.isArray(e)){const n=(e=(e=(e=e.filter((e=>!s(e)||(r=e,!1)))).filter((e=>!a(e)||(l=e,!1)))).filter((e=>!u(e)||(o=y(e),!1))))[e.length-1];t(n)||(o=n,e=e.slice(0,e.length-1)),i=e}else e&&(i=[e]);return{yieldingCallstackAdditions:i,yieldablePort:l,yieldableHandler:r,yieldedValue:o}},fulfill:{name:e=>e},isThatARef:t,isThatATypedRef:e=>!!e&&e._typedRefSymbol===b,isThatAYieldableHandler:s,isThatAYieldablePort:a,isThatAYieldedValuePrimitive:u,setYourService:l=>{window[e]=l},submit:m,useCallback:(e,r)=>{const{useReactingPower:a}=l();return a().service.Reactionary.useCallback(e,r)},useEffect:(e,r,a)=>{const{useReactingPower:i}=l();return i().service.Reactionary.useEffect(e,r,a)},useFormRefs:e=>{const{useReactingPower:r}=l();return r().service.Reactionary.useFormRefs(e)},useMemo:(e,r)=>{const{useReactingPower:a}=l();return a().service.Reactionary.useMemo(e,r)},useRef:e=>{const{useReactingPower:r}=l();return r().service.Reactionary.useRef(e)},useService:l,useState:e=>{const{useReactingPower:r}=l();return r().service.Reactionary.useState(e)}});const R=!0,_=!1;var Y=Object.freeze({__proto__:null,NoTheDependenciesAreNotTheSame:_,YesTheDependenciesAreTheSame:R,dependenciesVsDependencies:(e,l)=>{if(!e&&!l)return R;if(!e&&l)return _;if(e&&!l)return _;if(e&&l){if(e.length!=l.length)return _;const r=e.some(((e,r)=>!Object.is(e,l[r])));if(r)return _}return R}});export{Y as Always,S as Api};\n//# sourceMappingURL=index.esm.js.map\n","const e=e=>{const r=e.publicFormState(),t=e.refs(r),[l,o]=t,i=e.stateIndexing(),a=e.sourceOfTruth(i),{sourceOfTruth:s,sourceOfTruthEjectButton:n,sourceOfTruthFromEjectedCartridge:c}=a,[u,d,m,y,f]=e.serviceController(r,t),b=e.service(t,a,u),S=e.dom(u,r,b.ViewModel),[R,_]=e.logicalContext();let p={service:b,sourceOfTruth:s,sourceOfTruthEjectButton:n,sourceOfTruthFromEjectedCartridge:c,dom:S.explorer,logicalContext:R};e.reactingPower&&(p=e.reactingPower(p));const[v,g,T]=e.createElement(i,S.virtualDomController,_,p,a,b.ViewModel.iAmReact),[Y,w]=e.events(S,p);let h={createElement:v,runElementEffects:g,destroyElement:T,eventHandler:Y,submitHandler:w,explore:d,exploreFulfillment:m,employee:y,employMeAsAProducer:f,nowish:r.publicFormStateImmediate,formRefs:l,formRefsIsland:o};return e.serviceClient&&(h=e.serviceClient(h)),h},r=(e,r,t)=>e(r),t=Symbol.for(\"react-44ms/service/crush-kill-destroy\"),l=Symbol.for(\"react-44ms/api/UseServiceSymbol\"),o=()=>window[l],i=Symbol.for(\"react-44ms/api/YieldablePortSymbol\"),a=e=>e?._yieldablePort===i,s=Symbol.for(\"react-44ms/api/RefSymbol\"),n=e=>!!e&&e._refSymbol===s,c={element:{name:e=>e},RefPrimitive:{on:e=>({[s]:`${e}`,_refSymbol:s})}},u=Symbol.for(\"react-44ms/api/YieldableHandlerSymbol\"),d=e=>e?._yieldableHandler===u,m=Symbol.for(\"react-44ms/api/YieldedValueSymbol\"),y=Symbol.for(\"react-44ms/api/YieldedValueNotFoundSymbol\"),f=e=>!!e&&e._yieldedValueSymbol===m,b=e=>f(e)?e[m]:y,S=e=>{const{useSubmit:r}=o();return r().submit(e)};S.NO_SUBMIT_FOUND_INVALID_FORM_REASON_KEY=Symbol.for(\"React44ms/FORM_SUBMIT_INVALID_NO_SUBMIT_KEY\");const R=Symbol.for(\"react-44ms/api/TypedRefSymbol\"),_=Symbol.for(\"react-44ms/api/TypedRefValueSymbol\");var p=Object.freeze({__proto__:null,Convenience:c,RefSymbol:s,TypedRefSymbol:R,TypedRefValueSymbol:_,Yield:e=>{const{useReactingPower:r}=o();return r().service.Reactionary.Yield(e)},YieldAValueAtTheEnd:e=>({[m]:e,_yieldedValueSymbol:m}),YieldableHandler:e=>({[u]:e,_yieldableHandler:u}),YieldableHandlerSymbol:u,YieldablePort:e=>({[i]:e,_yieldablePort:i}),YieldablePortSymbol:i,YieldedValueNotFoundSymbol:y,YieldedValueSymbol:m,anyRefishToStringValue:e=>n(e)?e[s]:e||\"\",anyYieldableHandlerToValue:e=>d(e)?e[u]:\"\",extractYieldedValue:b,extractYieldingRef:e=>{let r,t,l=[],o=y;if(Array.isArray(e)){const i=(e=(e=(e=e.filter((e=>!d(e)||(t=e,!1)))).filter((e=>!a(e)||(r=e,!1)))).filter((e=>!f(e)||(o=b(e),!1))))[e.length-1];n(i)||(o=i,e=e.slice(0,e.length-1)),l=e}else e&&(l=[e]);return{yieldingCallstackAdditions:l,yieldablePort:r,yieldableHandler:t,yieldedValue:o}},fulfill:{name:e=>e},isThatARef:n,isThatATypedRef:e=>!!e&&e._typedRefSymbol===R,isThatAYieldableHandler:d,isThatAYieldablePort:a,isThatAYieldedValuePrimitive:f,setYourService:e=>{window[l]=e},submit:S,useCallback:(e,r)=>{const{useReactingPower:t}=o();return t().service.Reactionary.useCallback(e,r)},useEffect:(e,r,t)=>{const{useReactingPower:l}=o();return l().service.Reactionary.useEffect(e,r,t)},useFormRefs:e=>{const{useReactingPower:r}=o();return r().service.Reactionary.useFormRefs(e)},useMemo:(e,r)=>{const{useReactingPower:t}=o();return t().service.Reactionary.useMemo(e,r)},useRef:e=>{const{useReactingPower:r}=o();return r().service.Reactionary.useRef(e)},useService:o,useState:e=>{const{useReactingPower:r}=o();return r().service.Reactionary.useState(e)}});const v=(e,r)=>{const t=r[p.RefSymbol].split(\".\");let l=e;return t.forEach((e=>{e&&e.length>0&&(l=l?.[e])})),l},g=Symbol.for(\"react-44ms/service/reacting-power\"),T=()=>window[g],Y=Symbol.for(\"react-44ms/service/use-submit\"),w=()=>window[Y];let h;!function(e){e.state=\"state\",e.after_rendering=\"after_rendering\"}(h||(h={}));export{t as PublicFormStateStack_CrushKillDestroy,g as React44msReactingPowerSymbol,Y as React44msUseSubmitSymbol,h as WorkDescription,r as createElement,v as publicFormAccess,e as reactionaryTemplateMethod,T as useReactingPower,w as useSubmit};\n//# sourceMappingURL=index.esm.js.map\n","import * as t44ms from \"typescript-44ms\";\nimport * as Service from \"typescript-44ms-reactionary-template-method\";\n\ninterface Employee {\n  subscriber: Service.Work;\n  whereAmI?: t44ms.Api.ref;\n}\n\nexport const ootbServiceController: Service.FactoryServiceController = (\n  publicFormState,\n  formRefStack\n) => {\n  const [formRefs] = formRefStack;\n\n  let employees: Employee[] = [];\n  const employee: Service.ServiceClient[\"employee\"] = (\n    subscriber: Service.Work,\n    whereAmI?: t44ms.Api.ref\n  ) => {\n    const thisSubscriber: Employee = {\n      subscriber,\n      whereAmI,\n    };\n    employees = [...employees, ...[thisSubscriber]];\n\n    const unsubscribing = () => {\n      employees = employees.filter(\n        (subscriber) => subscriber !== thisSubscriber\n      );\n    };\n    const considerations: Service.ServiceClientExplorerConsiderations = {\n      unsubscribing,\n    };\n    return considerations;\n  };\n  const work_required_here_forAnEmployee: Service.ServiceController[\"work_required_here\"] =\n    (ref_lhs) => {\n      interface Match {\n        subscriber: Employee;\n        howMuchOfAMatch: number;\n      }\n      let matches: Match[] = [];\n      const ref_lhs_components = ref_lhs[t44ms.Api.RefSymbol].split(\".\");\n      employees.forEach((subscriber) => {\n        const { whereAmI: ref_rhs } = subscriber;\n        const ref_rhs_components = (ref_rhs || (formRefs as t44ms.Api.ref))[\n          t44ms.Api.RefSymbol\n        ].split(\".\");\n\n        let matchScore = 0;\n        let hasTheChainBeenBroken = false;\n        ref_lhs_components.forEach((ref_lhs_atom) => {\n          if (hasTheChainBeenBroken) return;\n          const ref_rhs_atom = ref_rhs_components.shift();\n          if (ref_lhs_atom === \"\" || ref_rhs_atom === \"\") {\n            const areTheseBothRootAndTheSame =\n              ref_lhs_atom === \"\" && ref_rhs_atom === \"\";\n            if (!areTheseBothRootAndTheSame) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          } else if (ref_lhs_atom !== ref_rhs_atom) {\n            hasTheChainBeenBroken = true;\n            return;\n          }\n          matchScore = matchScore + 1;\n        });\n\n        if (matchScore > 0) {\n          const match: Match = {\n            subscriber,\n            howMuchOfAMatch: matchScore,\n          };\n          matches = [...matches, match];\n        }\n      });\n\n      const sortedMatches = matches.sort((a, b) => {\n        return b.howMuchOfAMatch - a.howMuchOfAMatch;\n      });\n\n      const mostSpecificMatch = sortedMatches[0];\n      if (!mostSpecificMatch) {\n        return;\n      }\n      const allTheSpecificMatches = sortedMatches.filter(\n        (match) => match.howMuchOfAMatch === mostSpecificMatch.howMuchOfAMatch\n      );\n      allTheSpecificMatches.forEach((theMatch) => {\n        theMatch.subscriber.subscriber();\n      });\n    };\n\n  let employeesWhoProduce: Employee[] = [];\n  const employMeAsAProducer: Service.ServiceClient[\"employMeAsAProducer\"] = (\n    subscriber: Service.Work,\n    whereAmI?: t44ms.Api.ref\n  ) => {\n    const thisSubscriber: Employee = {\n      subscriber,\n      whereAmI,\n    };\n    employeesWhoProduce = [...employeesWhoProduce, ...[thisSubscriber]];\n\n    const unsubscribing = () => {\n      employeesWhoProduce = employeesWhoProduce.filter(\n        (subscriber) => subscriber !== thisSubscriber\n      );\n    };\n    const considerations: Service.ServiceClientExplorerConsiderations = {\n      unsubscribing,\n    };\n    return considerations;\n  };\n  const work_required_here_forAnEmployeeWhoProduces: Service.ServiceController[\"work_required_here\"] =\n    (ref_lhs) => {\n      interface Match {\n        subscriber: Employee;\n        howMuchOfAMatch: number;\n      }\n      let matches: Match[] = [];\n      const ref_lhs_components = ref_lhs[t44ms.Api.RefSymbol].split(\".\");\n      employeesWhoProduce.forEach((subscriber) => {\n        const { whereAmI: ref_rhs } = subscriber;\n        const ref_rhs_components = (ref_rhs || (formRefs as t44ms.Api.ref))[\n          t44ms.Api.RefSymbol\n        ].split(\".\");\n\n        let matchScore = 0;\n        let hasTheChainBeenBroken = false;\n        ref_lhs_components.forEach((ref_lhs_atom) => {\n          if (hasTheChainBeenBroken) return;\n          const ref_rhs_atom = ref_rhs_components.shift();\n          if (ref_lhs_atom === \"\" || ref_rhs_atom === \"\") {\n            const areTheseBothRootAndTheSame =\n              ref_lhs_atom === \"\" && ref_rhs_atom === \"\";\n            if (!areTheseBothRootAndTheSame) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          } else if (ref_lhs_atom !== ref_rhs_atom) {\n            hasTheChainBeenBroken = true;\n            return;\n          }\n          matchScore = matchScore + 1;\n        });\n\n        if (matchScore > 0) {\n          const match: Match = {\n            subscriber,\n            howMuchOfAMatch: matchScore,\n          };\n          matches = [...matches, match];\n        }\n      });\n\n      const sortedMatches = matches.sort((a, b) => {\n        return b.howMuchOfAMatch - a.howMuchOfAMatch;\n      });\n\n      const mostSpecificMatch = sortedMatches[0];\n      if (!mostSpecificMatch) {\n        return;\n      }\n      const allTheSpecificMatches = sortedMatches.filter(\n        (match) => match.howMuchOfAMatch === mostSpecificMatch.howMuchOfAMatch\n      );\n      allTheSpecificMatches.forEach((theMatch) => {\n        theMatch.subscriber.subscriber();\n      });\n    };\n\n  interface ExplorerSubscriber<\n    YourFormStateDescribingInterfaceType extends any\n  > {\n    subscriber: (latest: YourFormStateDescribingInterfaceType | null) => void;\n    whereAmI?: t44ms.Api.ref;\n  }\n  let explorerSubscribers: ExplorerSubscriber<any>[] = [];\n  const explore: Service.ServiceClient[\"explore\"] = <\n    YourFormStateDescribingInterfaceType extends any\n  >(\n    subscriber: (latest: YourFormStateDescribingInterfaceType | null) => void,\n    whereAmI?: t44ms.Api.ref\n  ): Service.ServiceClientExplorerConsiderations => {\n    const thisSubscriber: ExplorerSubscriber<YourFormStateDescribingInterfaceType> =\n      {\n        subscriber,\n        whereAmI,\n      };\n    explorerSubscribers = [...explorerSubscribers, ...[thisSubscriber]];\n\n    public_form_state_ready(whereAmI || (formRefs as t44ms.Api.ref));\n\n    const unsubscribing = () => {\n      explorerSubscribers = explorerSubscribers.filter(\n        (subscriber) => subscriber !== thisSubscriber\n      );\n    };\n    const considerations: Service.ServiceClientExplorerConsiderations = {\n      unsubscribing,\n    };\n    return considerations;\n  };\n\n  interface ExploreFulfillmentSubscriber<\n    YourFormStateDescribingInterfaceType extends any\n  > {\n    subscriber: (latest: YourFormStateDescribingInterfaceType | null) => void;\n    whereAmI?: t44ms.Api.ref;\n  }\n  let exploreFulfillmentSubscribers: ExploreFulfillmentSubscriber<any>[] = [];\n  const exploreFulfillment: Service.ServiceClient[\"exploreFulfillment\"] = <\n    YourExpectedControllerInterfaceThatLivesAtThatRef extends any\n  >(\n    subscriber: (\n      latest: YourExpectedControllerInterfaceThatLivesAtThatRef | null\n    ) => void,\n    whereAmI?: t44ms.Api.ref\n  ): Service.ServiceClientExplorerConsiderations => {\n    const thisSubscriberOnFulfillment: ExploreFulfillmentSubscriber<YourExpectedControllerInterfaceThatLivesAtThatRef> =\n      {\n        subscriber,\n        whereAmI,\n      };\n    exploreFulfillmentSubscribers = [\n      ...exploreFulfillmentSubscribers,\n      ...[thisSubscriberOnFulfillment],\n    ];\n\n    public_form_fulfillment_ready(whereAmI || (formRefs as t44ms.Api.ref));\n\n    const unsubscribing = () => {\n      exploreFulfillmentSubscribers = exploreFulfillmentSubscribers.filter(\n        (subscriber) => subscriber !== thisSubscriberOnFulfillment\n      );\n    };\n    const considerations: Service.ServiceClientExplorerConsiderations = {\n      unsubscribing,\n    };\n    return considerations;\n  };\n\n  const publicFulfillmentIslandNow = <\n    YourExpectedControllerInterfaceThatLivesAtThatRef extends any\n  >(\n    ref: t44ms.Api.ref\n  ): YourExpectedControllerInterfaceThatLivesAtThatRef | null => {\n    const literalCallstack = ref[t44ms.Api.RefSymbol].split(\".\");\n    let node = publicFormState.publicFulfillmentImmediate();\n    literalCallstack.forEach((name) => {\n      if (name && name.length > 0) {\n        node = node?.[name];\n      }\n    });\n    return node as YourExpectedControllerInterfaceThatLivesAtThatRef | null;\n  };\n\n  const work_required_here: Service.ServiceController[\"work_required_here\"] = (\n    ref_lhs\n  ) => {\n    work_required_here_forAnEmployee(ref_lhs);\n    work_required_here_forAnEmployeeWhoProduces(ref_lhs);\n  };\n  const public_form_state_ready: Service.ServiceController[\"public_form_state_ready\"] =\n    (ref_lhs) => {\n      interface Match {\n        subscriber: ExplorerSubscriber<any>;\n        howMuchOfAMatch: number;\n      }\n      let matches: Match[] = [];\n      const ref_lhs_components = ref_lhs[t44ms.Api.RefSymbol].split(\".\");\n      explorerSubscribers.forEach((subscriber) => {\n        const { whereAmI: ref_rhs } = subscriber;\n        const ref_rhs_components = (ref_rhs || (formRefs as t44ms.Api.ref))[\n          t44ms.Api.RefSymbol\n        ].split(\".\");\n\n        let matchScore = 0;\n        let hasTheChainBeenBroken = false;\n        ref_lhs_components.forEach((ref_lhs_atom) => {\n          if (hasTheChainBeenBroken) return;\n          const ref_rhs_atom = ref_rhs_components.shift();\n\n          const ref_lhs_atom__isRoot = ref_lhs_atom.length < 1;\n          const ref_rhs_atom__isRoot = (ref_rhs_atom?.length || 0) < 1;\n          if (ref_lhs_atom__isRoot || ref_rhs_atom__isRoot) {\n            const areTheseBothTheRootAndTheSame =\n              ref_lhs_atom__isRoot && ref_rhs_atom__isRoot;\n            if (!areTheseBothTheRootAndTheSame) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          } else {\n            if (ref_lhs_atom !== ref_rhs_atom) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          }\n\n          matchScore = matchScore + 1;\n        });\n\n        if (matchScore > 0) {\n          const match: Match = {\n            subscriber,\n            howMuchOfAMatch: matchScore,\n          };\n          matches = [...matches, match];\n        }\n      });\n\n      const sortedMatches = matches.sort((a, b) => {\n        return b.howMuchOfAMatch - a.howMuchOfAMatch;\n      });\n\n      const mostSpecificMatch = sortedMatches[0];\n      if (!mostSpecificMatch) {\n        return;\n      }\n      const allTheSpecificMatches = sortedMatches.filter(\n        (match) => match.howMuchOfAMatch === mostSpecificMatch.howMuchOfAMatch\n      );\n      allTheSpecificMatches.forEach((theMatch) => {\n        const yourFormState = Service.publicFormAccess(\n          publicFormState.publicFormStateImmediate(),\n          theMatch.subscriber.whereAmI || (formRefs as t44ms.Api.ref)\n        );\n        theMatch.subscriber.subscriber(yourFormState);\n      });\n    };\n  const public_form_fulfillment_ready: Service.ServiceController[\"public_form_fulfillment_ready\"] =\n    (ref_lhs) => {\n      interface Match {\n        subscriber: ExploreFulfillmentSubscriber<any>;\n        howMuchOfAMatch: number;\n      }\n      let matches: Match[] = [];\n      const ref_lhs_components = ref_lhs[t44ms.Api.RefSymbol].split(\".\");\n      exploreFulfillmentSubscribers.forEach((subscriber) => {\n        const { whereAmI: ref_rhs } = subscriber;\n        const ref_rhs_components = (ref_rhs || (formRefs as t44ms.Api.ref))[\n          t44ms.Api.RefSymbol\n        ].split(\".\");\n\n        let matchScore = 0;\n        let hasTheChainBeenBroken = false;\n        ref_lhs_components.forEach((ref_lhs_atom) => {\n          if (hasTheChainBeenBroken) return;\n          const ref_rhs_atom = ref_rhs_components.shift();\n\n          const ref_lhs_atom__isRoot = ref_lhs_atom.length < 1;\n          const ref_rhs_atom__isRoot = (ref_rhs_atom?.length || 0) < 1;\n          if (ref_lhs_atom__isRoot || ref_rhs_atom__isRoot) {\n            const areTheseBothTheRootAndTheSame =\n              ref_lhs_atom__isRoot && ref_rhs_atom__isRoot;\n            if (!areTheseBothTheRootAndTheSame) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          } else {\n            if (ref_lhs_atom !== ref_rhs_atom) {\n              hasTheChainBeenBroken = true;\n              return;\n            }\n          }\n\n          matchScore = matchScore + 1;\n        });\n\n        if (matchScore > 0) {\n          const match: Match = {\n            subscriber,\n            howMuchOfAMatch: matchScore,\n          };\n          matches = [...matches, match];\n        }\n      });\n\n      const sortedMatches = matches.sort((a, b) => {\n        return b.howMuchOfAMatch - a.howMuchOfAMatch;\n      });\n\n      const mostSpecificMatch = sortedMatches[0];\n      if (!mostSpecificMatch) {\n        return;\n      }\n      const allTheSpecificMatches = sortedMatches.filter(\n        (match) => match.howMuchOfAMatch === mostSpecificMatch.howMuchOfAMatch\n      );\n      allTheSpecificMatches.forEach((theMatch) => {\n        const yourFormState = publicFulfillmentIslandNow(\n          theMatch.subscriber.whereAmI || (formRefs as t44ms.Api.ref)\n        );\n        theMatch.subscriber.subscriber(yourFormState);\n      });\n    };\n\n  const serviceController: Service.ServiceController = {\n    work_required_here,\n    public_form_state_ready,\n    public_form_fulfillment_ready,\n  };\n\n  return [\n    serviceController,\n    explore,\n    exploreFulfillment,\n    employee,\n    employMeAsAProducer,\n  ];\n};\n"],"names":["e","Symbol","for","l","window","r","a","_yieldablePort","i","t","_refSymbol","o","element","name","RefPrimitive","on","i$1","n","s","_yieldableHandler","d","c","u","_yieldedValueSymbol","y","m","useSubmit","submit","NO_SUBMIT_FOUND_INVALID_FORM_REASON_KEY","b","f","S","Object","freeze","__proto__","Convenience","RefSymbol","TypedRefSymbol","TypedRefValueSymbol","Yield","useReactingPower","service","Reactionary","YieldAValueAtTheEnd","d$1","YieldableHandler","n$1","YieldableHandlerSymbol","YieldablePort","YieldablePortSymbol","YieldedValueNotFoundSymbol","YieldedValueSymbol","anyRefishToStringValue","anyYieldableHandlerToValue","extractYieldedValue","extractYieldingRef","Array","isArray","filter","length","slice","yieldingCallstackAdditions","yieldablePort","yieldableHandler","yieldedValue","fulfill","isThatARef","isThatATypedRef","_typedRefSymbol","isThatAYieldableHandler","isThatAYieldablePort","isThatAYieldedValuePrimitive","setYourService","useCallback","useEffect","useFormRefs","useMemo","useRef","useService","useState","R","_","p","h","state","after_rendering","ootbServiceController","publicFormState","formRefStack","formRefs","employees","employeesWhoProduce","explorerSubscribers","exploreFulfillmentSubscribers","public_form_state_ready","ref_lhs","matches","ref_lhs_components","t44ms","split","forEach","subscriber","whereAmI","ref_rhs","ref_rhs_components","matchScore","hasTheChainBeenBroken","ref_lhs_atom","ref_rhs_atom","shift","ref_lhs_atom__isRoot","ref_rhs_atom__isRoot","match","howMuchOfAMatch","sortedMatches","sort","mostSpecificMatch","theMatch","yourFormState","Service","publicFormStateImmediate","public_form_fulfillment_ready","ref","literalCallstack","node","publicFulfillmentImmediate","publicFulfillmentIslandNow","serviceController","work_required_here","work_required_here_forAnEmployee","work_required_here_forAnEmployeeWhoProduces","thisSubscriber","considerations","unsubscribing","thisSubscriberOnFulfillment"],"mappings":"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"}